<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Хрустка кухня - Салати</title>

    <!-- CSS FILES -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-icons.css" rel="stylesheet">
    <link href="css/tooplate-crispy-kitchen.css" rel="stylesheet">
    <style>
        .file-input-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block;
            width: 100%;
        }
        
        .file-input-label {
            display: block;
            padding: 0.375rem 0.75rem;
            font-size: 1rem;
            font-weight: 400;
            line-height: 1.5;
            color: #212529;
            background-color: #fff;
            background-clip: padding-box;
            border: 1px solid #ced4da;
            border-radius: 0.25rem;
            cursor: pointer;
            transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }
        
        .file-input-label:hover {
            background-color: #f8f9fa;
        }
        
        .file-input-label input[type="file"] {
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
            cursor: pointer;
            width: 100%;
            height: 100%;
        }
        
        .file-name {
            display: block;
            margin-top: 0.25rem;
            font-size: 0.875rem;
            color: #6c757d;
        }
        
        .recipe-preview {
            margin-top: 2rem;
            display: none;
        }
        
        .recipe-card {
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
            transition: transform 0.3s ease;
        }
        
        .recipe-card:hover {
            transform: translateY(-5px);
        }
        
        .user-recipe-tag {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: 600;
            color: white;
        }
        
        .menu-image-wrap {
            position: relative;
        }
        
        .recipe-form {
            background-color: #f8f9fa;
            padding: 2rem;
            border-radius: 0.5rem;
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        }
        
        .form-title {
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #198754;
        }
        
        .carousel-link {
            display: block;
            position: relative;
            color: inherit;
            text-decoration: none;
        }
        
        .carousel-link:hover {
            text-decoration: none;
        }
        
        .carousel-link .carousel-caption {
            z-index: 10;
        }
        
        .carousel-link::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 1;
        }
        
        .spinner-border {
            width: 3rem;
            height: 3rem;
            display: none;
        }
        
        #loadingRecipes {
            text-align: center;
            padding: 2rem;
        }
        
        .recipe-modal .modal-content {
            border-radius: 0.8rem;
            overflow: hidden;
        }
        
        .recipe-modal .modal-header {
            background: linear-gradient(to right, #28a745, #20c997);
            color: white;
            border-bottom: none;
        }
        
        .recipe-modal .modal-body {
            padding: 1.5rem;
        }
        
        .recipe-modal .modal-footer {
            background-color: #f8f9fa;
            border-top: 1px solid #dee2e6;
        }
        
        .recipe-ingredients {
            background-color: #f8f9fa;
            border-radius: 0.5rem;
            padding: 1rem;
        }
        
        .recipe-instructions {
            white-space: pre-line;
            line-height: 1.8;
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-lg bg-white shadow-lg">
        <div class="container">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <a class="navbar-brand" href="index.html">
                Хрустка кухня
            </a>

            <div class="d-lg-none"></div>

            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Головна</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="top-ua.html">Перше</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="top2-ua.html">Друге</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="desert-ua.html">Десерт</a>
                    </li>
                    
                    <li class="nav-item">
                        <a href="salad-ru.html"><span class="category-tag me-3 bg-info">RU</span></a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <main>
        <header class="site-header site-news-detail-header">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <h2>Салати</h2>
                    </div>
                </div>
            </div>
        </header>

        <section class="news-detail section-padding pt-0">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12 col-12">
                        <img src="images/news/louis-hansel-dphM2U1xq0U-unsplash1.jpg" class="img-fluid news-detail-image" alt="Салат">
                        
                        <div class="col-lg-10 col-10 mx-auto mt-5">
                            <h4 class="mb-3">Грецький салат</h4>
                            <p>Класичний салат зі свіжих овочів та сиром фета, приправлений оливковою олією та орегано.</p>

                            <h4 class="mb-3">Процес приготування.</h4>
                            <p>
                                Наріжте огірки, помідори та червону цибулю середніми шматочками.
                                Додайте оливки та кубики сиру фета.
                                Приготуйте заправку: змішайте оливкову олію, лимонний сік, часник, орегано, сіль та перець.
                                Заправте салат та акуратно перемішайте.
                                Подавайте відразу після приготування.
                                Смачного!
                            </p>
                            
                            <h4 class="mb-3">Інгредієнти:</h4>
                            <ul class="list">
                                <li class="list-item">Час приготування: 15 хвилин. Кількість порцій: 4.</li>
                                <li class="list-item">Огірки - 2 шт.</li>
                                <li class="list-item">Помідори - 4 шт.</li>
                                <li class="list-item">Червона цибуля - 1 шт.</li>
                                <li class="list-item">Сир фета - 200 г</li>
                                <li class="list-item">Оливки - 100 г</li>
                                <li class="list-item">Оливкова олія - 4 ст.л.</li>
                                <li class="list-item">Лимонний сік - 1 ст.л.</li>
                                <li class="list-item">Сушений орегано - 1 ч.л.</li>
                                <li class="list-item">Сіль, перець за смаком</li>
                            </ul>

                            <h4 class="mb-3">Салат Цезар</h4>
                            <p>
                                Крок 1. Підсушіть хліб у духовці або на сковороді до хрусткості.
                                Крок 2. Помийте та обсушіть салат айсберг, порвіть його руками.
                                Крок 3. Приготуйте соус: збийте яйце, лимонний сік, гірчицю, анчоуси та часник.
                                Крок 4. Поступово додавайте оливкову олію, продовжуючи збивати.
                                Крок 5. Змішайте салат з соусом, додайте крутони та тертий пармезан.
                                Крок 6. Прикрасьте цілими листями салату та додатково сиром.
                            </p>

                            <ul class="list">
                                <li class="list-item">Час приготування: 20 хвилин</li>
                                <li class="list-item">Салат айсберг - 1 кочан</li>
                                <li class="list-item">Білий хліб - 200 г</li>
                                <li class="list-item">Пармезан - 100 г</li>
                                <li class="list-item">Яйце - 1 шт.</li>
                                <li class="list-item">Лимонний сік - 1 ст.л.</li>
                                <li class="list-item">Гірчиця - 1 ч.л.</li>
                                <li class="list-item">Анчоуси - 3 шт.</li>
                                <li class="list-item">Оливкова олія - 4 ст.л.</li>
                            </ul>

                            <h4 class="mb-3">Овочевий салат з авокадо</h4>
                            <ul class="list">
                                <li class="list-item">Час приготування: 15 хвилин</li>
                                <li class="list-item">Авокадо - 2 шт.</li>
                                <li class="list-item">Помідори чері - 200 г</li>
                                <li class="list-item">Огірок - 1 шт.</li>
                                <li class="list-item">Червона цибуля - 1/2 шт.</li>
                                <li class="list-item">Кінза - 1 пучок</li>
                                <li class="list-item">Лимонний сік - 2 ст.л.</li>
                                <li class="list-item">Оливкова олія - 2 ст.л.</li>
                                <li class="list-item">Сіль, перець за смаком</li>
                            </ul>

                            <p>
                                Процес приготування:
                                Крок 1. Наріжте авокадо, помідори чері, огірок та цибулю кубиками.
                                Крок 2. Дрібно поріжте кінзу.
                                Крок 3. Змішайте всі інгредієнти в салатниці.
                                Крок 4. Приправте лимонним соком, оливковою олією, сіллю та перцем.
                                Крок 5. Акуратно перемішайте та подавайте.
                            </p>
                            
                            <h4 class="mb-3">Салат з буряка та горіхів</h4>
                            <p>
                                Пісний салат зі страченою буряком, сиром та горіхами, приправлений медово-гірчичною заправкою.
                            </p>

                            <ul class="list">
                                <li class="list-item">Буряк - 3 шт. (середніх)</li>
                                <li class="list-item">Сир фета або козячий - 150 г</li>
                                <li class="list-item">Горіхи волоські - 100 г</li>
                                <li class="list-item">Руккола - 100 г</li>
                                <li class="list-item">Мед - 2 ст.л.</li>
                                <li class="list-item">Гірчиця діжонська - 1 ст.л.</li>
                                <li class="list-item">Оливкова олія - 3 ст.л.</li>
                                <li class="list-item">Бальзамічний крем - для прикраси</li>
                            </ul>

                            <p>
                                Як приготувати:
                                Буряк відваріть або запікайте у духовці до м'якості.
                                Наріжте охолоджений буряк кубиками.
                                На сухій сковороді підсмажте горіхи.
                                Змішайте буряк, рукколу, крихту сиру та горіхи.
                                Приготуйте заправку: збийте мед, гірчицю та оливкову олію.
                                Заправте салат та акуратно перемішайте.
                                Перед подачею прикрасьте бальзамічним кремом.
                            </p>
                            
                            <h4 class="mb-3">Салат з тунцем та яйцем</h4>
                            <ul class="list">
                                <li class="list-item">Тунець у власному соку - 2 банки</li>
                                <li class="list-item">Яйця - 4 шт.</li>
                                <li class="list-item">Огірок - 2 шт.</li>
                                <li class="list-item">Зелений цибуля - 1 пучок</li>
                                <li class="list-item">Йогурт грецький - 150 г</li>
                                <li class="list-item">Гірчиця - 1 ч.л.</li>
                                <li class="list-item">Сіль, перець за смаком</li>
                            </ul>

                            <p>
                                Процес приготування: 
                                Яйця відваріть та наріжте кубиками.
                                Огірок наріжте дрібними кубиками.
                                Зелений цибуля дрібно поріжте.
                                Злийте рідину з тунця, розітріть вилкою.
                                Змішайте всі інгредієнти в салатниці.
                                Приготуйте заправку: змішайте йогурт, гірчицю, сіль та перець.
                                Заправте салат та ретельно перемішайте.
                                Подавайте охолодженим.
                            </p>

                            <h4 class="mb-3">Салат Капрезе</h4>
                            <ul class="list">
                                <li class="list-item">Помідори - 4 шт. (великі)</li>
                                <li class="list-item">Моцарела - 250 г</li>
                                <li class="list-item">Свіжий базилік - 1 пучок</li>
                                <li class="list-item">Оливкова олія - 3 ст.л.</li>
                                <li class="list-item">Бальзамічний крем - 2 ст.л.</li>
                                <li class="list-item">Морська сіль, чорний перець</li>
                            </ul>

                            <p>
                                Наріжте помідори та моцарелу кружальцями однакової товщини.
                                Викладіть на тарілку, чергуючи помідор, сир та листки базиліка.
                                Полийте оливковою олією та бальзамічним кремом.
                                Посипте морською сіллю та свіжомеленим чорним перцем.
                                Подавайте негайно.
                            </p>
                            
                            <div class="col-12">
                                <h2>Сезонні салати</h2>
                            </div>
                            
                            <div class="col-lg-12 col-12">
                                <img src="images/news/news-detail-header2.jpg" class="img-fluid news-detail-image" alt="Салат">
                            </div>

                            <h4 class="mb-3">Осінній салат з гарбузом</h4>
                            <ul class="list">
                                <li class="list-item">Інгредієнти</li>
                                <li class="list-item">Гарбуз - 500 г</li>
                                <li class="list-item">Руккола - 100 г</li>
                                <li class="list-item">Козячий сир - 100 г</li>
                                <li class="list-item">Горіхи пекані - 50 г</li>
                                <li class="list-item">Мед - 2 ст.л.</li>
                                <li class="list-item">Оливкова олія - 3 ст.л.</li>
                                <li class="list-item">Бальзамічний оцет - 1 ст.л.</li>
                            </ul>

                            <p>
                                Гарбуз наріжте кубиками, змастіть оливковою олією та запікайте 20 хвилин при 200°C.
                                Підсмажте горіхи на сухій сковороді.
                                Викладіть на тарілку рукколу, гарячий гарбуз, крихту козячого сиру та горіхи.
                                Приготуйте заправку: змішайте оливкову олію, бальзамічний оцет, мед, сіль та перець.
                                Заправте салат та подавайте теплим.
                            </p>
                            
                            <h4 class="mb-3">Літній салат з кавуном та сиром фета</h4>
                            <ul class="list">
                                <li class="list-item">Кавун - 500 г</li>
                                <li class="list-item">Сир фета - 200 г</li>
                                <li class="list-item">М'ята - 1/2 пучка</li>
                                <li class="list-item">Оливкова олія - 2 ст.л.</li>
                                <li class="list-item">Лимонний сік - 1 ст.л.</li>
                                <li class="list-item">Чорний перець</li>
                            </ul>

                            <p>
                                Кавун наріжте кубиками.
                                Сир фета наріжте кубиками такого ж розміру.
                                Дрібно поріжте м'яту.
                                Змішайте кавун, сир та м'яту.
                                Збийте оливкову олію з лимонним соком, перцем та дрібкою солі.
                                Заправте салат та акуратно перемішайте.
                                Подавайте охолодженим.
                            </p>

                            <h4 class="mb-3">Салат з креветками та авокадо</h4>
                            <ul class="list">
                                <li class="list-item">Креветки - 300 г</li>
                                <li class="list-item">Авокадо - 2 шт.</li>
                                <li class="list-item">Помідори чері - 200 г</li>
                                <li class="list-item">Мікс салату - 100 г</li>
                                <li class="list-item">Часник - 2 зубчики</li>
                                <li class="list-item">Оливкова олія - 3 ст.л.</li>
                                <li class="list-item">Лимонний сік - 2 ст.л.</li>
                            </ul>

                            <p>
                                Креветки очистіть та обсмажте на розігрітій оливковій олії з часником 3-4 хвилини.
                                Авокадо та помідори наріжте кубиками.
                                Викладіть на тарілку салат, авокадо, помідори та креветки.
                                Приготуйте заправку: збийте оливкову олію, лимонний сік, сіль та перець.
                                Заправте салат та подавайте негайно.
                            </p>

                            <h4 class="mb-3">Салат Вальдорф</h4>
                            <ul class="list">
                                <li class="list-item">Яблука - 2 шт.</li>
                                <li class="list-item">Селера - 2 стебла</li>
                                <li class="list-item">Горіхи волоські - 100 г</li>
                                <li class="list-item">Родзинки - 50 г</li>
                                <li class="list-item">Йогурт грецький - 150 г</li>
                                <li class="list-item">Мед - 1 ст.л.</li>
                                <li class="list-item">Лимонний сік - 1 ст.л.</li>
                            </ul>

                            <p>
                                Яблука наріжте соломкою, збризніть лимонним соком.
                                Селеру наріжте тонкими скибочками.
                                Горіхи підсмажте на сухій сковороді.
                                Залейте родзинки окропом на 10 хвилин.
                                Змішайте всі інгредієнти.
                                Приготуйте заправку: змішайте йогурт, мед та лимонний сік.
                                Заправте салат та ретельно перемішайте.
                                Перед подачею охолодити.
                            </p>

                            <h4 class="mb-3">Салат з куркою та ананасом</h4>
                            <ul class="list">
                                <li class="list-item">Філе куряче - 300 г</li>
                                <li class="list-item">Ананас консервований - 200 г</li>
                                <li class="list-item">Солодкий перець - 1 шт.</li>
                                <li class="list-item">Кукурудза консервована - 100 г</li>
                                <li class="list-item">Йогурт - 150 г</li>
                                <li class="list-item">Часник - 1 зубчик</li>
                                <li class="list-item">Кріп - для прикраси</li>
                            </ul>

                            <p>
                                Куряче філе відваріть та наріжте кубиками.
                                Перець наріжте соломкою.
                                Змішайте куряче м'ясо, ананас, перець та кукурудзу.
                                Приготуйте заправку: змішайте йогурт, часник, сіль та перець.
                                Заправте салат, акуратно перемішайте.
                                Прикрасьте кропом та подавайте.
                            </p>
                            
                            <h4 class="mb-3">Салат з капусти та моркви</h4>
                            <ul class="list">
                                <li class="list-item">Капуста білокачанна - 500 г</li>
                                <li class="list-item">Морква - 2 шт.</li>
                                <li class="list-item">Цибуля ріпчаста - 1 шт.</li>
                                <li class="list-item">Оцет - 2 ст.л.</li>
                                <li class="list-item">Цукор - 1 ст.л.</li>
                                <li class="list-item">Олія соняшникова - 4 ст.л.</li>
                                <li class="list-item">Сіль - 1 ч.л.</li>
                            </ul>

                            <p>
                                Капусту тонко наріжте, посоліть та помніть руками.
                                Моркву натріть на тертці для корейської моркви.
                                Цибулю тонко наріжте півкільцями.
                                Змішайте овочі в мискі.
                                Приготуйте заправку: збийте оцет, цукор, сіль та олію.
                                Заправте салат та добре перемішайте.
                                Дайте настоятися 30 хвилин перед подачею.
                            </p>

                            <h4 class="mb-3">Салат з баклажанами та помідорами</h4>
                            <ul class="list">
                                <li class="list-item">Баклажани - 2 шт.</li>
                                <li class="list-item">Помідори - 3 шт.</li>
                                <li class="list-item">Часник - 3 зубчики</li>
                                <li class="list-item">Петрушка - 1 пучок</li>
                                <li class="list-item">Оливкова олія - 4 ст.л.</li>
                                <li class="list-item">Бальзамічний оцет - 1 ст.л.</li>
                                <li class="list-item">Кунжут - для посипки</li>
                            </ul>

                            <p>
                                Баклажани наріжте кружальцями, посоліть та залиште на 15 хвилин.
                                Обсмажте на оливковій олії до золотистого кольору.
                                Помідори наріжте кружальцями.
                                Викладіть на тарілку чергуючи баклажани та помідори.
                                Приготуйте соус: подрібніть часник, петрушку, змішайте з оливковою олією та оцтом.
                                Полийте салат соусом, посипте кунжутом.
                                Подавайте теплим або кімнатної температури.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="BgImage"></section>

        <!-- Секция для добавления рецептов -->
        <section id="add-recipe" class="section-padding">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-8 col-12">
                        <div class="recipe-form">
                            <h2 class="form-title">Додати свій рецепт</h2>
                            <form id="recipeForm">
                                <div class="mb-3">
                                    <label for="recipeTitle" class="form-label">Назва рецепту*</label>
                                    <input 
                                        type="text" 
                                        class="form-control" 
                                        id="recipeTitle" 
                                        required 
                                        placeholder="Введіть назву вашого рецепту"
                                    >
                                </div>
                                <div class="mb-3">
                                    <label for="recipeCategory" class="form-label">Категорія*</label>
                                    <select class="form-select" id="recipeCategory" required>
                                        <option value="">Виберіть категорію</option>
                                        <option value="Сніданок">Сніданок</option>
                                        <option value="Обід">Обід</option>
                                        <option value="Вечеря">Вечеря</option>
                                        <option value="Десерт">Десерт</option>
                                        <option value="Пістне">Пістне</option>
                                        <option value="Консервація">Консервація</option>
                                        <option value="Випічка">Випічка</option>
                                        <option value="Напої">Напої</option>
                                        <option value="Салати">Салати</option>
                                        <option value="Закуски">Закуски</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label">Зображення (опціонально)</label>
                                    <div class="file-input-wrapper">
                                        <div class="file-input-label">
                                            <i class="bi bi-upload me-2"></i>Обрати файл
                                            <input 
                                                type="file" 
                                                class="form-control" 
                                                id="recipeImageFile" 
                                                accept="image/*"
                                            >
                                        </div>
                                        <span id="fileName" class="file-name">Файл не обрано</span>
                                    </div>
                                    <div class="form-text">Максимальний розмір: 1MB (JPG, PNG)</div>
                                </div>
                                <div class="mb-3">
                                    <label for="recipeIngredients" class="form-label">Інгредієнти*</label>
                                    <textarea 
                                        class="form-control" 
                                        id="recipeIngredients" 
                                        rows="4" 
                                        required 
                                        placeholder="Перелічіть інгредієнти, кожен з нового рядка"
                                    ></textarea>
                                </div>
                                <div class="mb-3">
                                    <label for="recipeInstructions" class="form-label">Інструкція приготування*</label>
                                    <textarea 
                                        class="form-control" 
                                        id="recipeInstructions" 
                                        rows="6" 
                                        required 
                                        placeholder="Опишіть кроки приготування"
                                    ></textarea>
                                </div>
                                <div class="d-grid">
                                    <button type="submit" class="btn btn-success btn-lg">
                                        <span 
                                            id="submitSpinner" 
                                            class="spinner-border spinner-border-sm me-2" 
                                            role="status" 
                                            aria-hidden="true"
                                        ></span>
                                        Додати рецепт
                                    </button>
                                </div>
                            </form>
                            
                            <div id="recipePreview" class="recipe-preview mt-4">
                                <h4>Попередній перегляд:</h4>
                                <div class="card recipe-card">
                                    <img 
                                        id="previewImage" 
                                        src="images/default-recipe.jpg" 
                                        class="card-img-top" 
                                        alt="Попередній перегляд"
                                    >
                                    <div class="card-body">
                                        <h5 id="previewTitle" class="card-title">Назва рецепту</h5>
                                        <p id="previewCategory" class="card-text text-muted">Категорія: не вибрано</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Раздел для отображения пользовательских рецептов -->
        <section id="user-recipes" class="section-padding bg-white">
            <div class="container">
                <div class="row">
                    <h2 class="text-center mb-lg-5 mb-4">Рецепти від користувачів</h2>
                    
                    <div id="loadingRecipes">
                        <div class="spinner-border text-success" role="status">
                            <span class="visually-hidden">Завантаження...</span>
                        </div>
                        <p class="mt-3">Завантажуємо рецепти...</p>
                    </div>
                    
                    <div id="recipesContainer" class="row">
                        <!-- Сюда будут добавляться рецепты через JS -->
                    </div>
                    
                    <div id="noRecipesMessage" class="col-12 text-center d-none">
                        <p>Поки немає доданих рецептів. Будьте першим!</p>
                    </div>
                    
                    <div class="text-center mt-4">
                        <button id="loadMoreBtn" class="btn btn-outline-success d-none">Показати ще</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="site-footer section-padding">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <h4 class="text-white mb-4 me-5">Хрустка кухня</h4>
                </div>
            </div>
        </div>
    </footer>

    <!-- JAVASCRIPT FILES -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/custom.js"></script>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
    
    <script>
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyCmO3UwOLexKfUsNBiDhfVsJ7WWS9K_ft4",
  authDomain: "crispy-cuisine-7334c.firebaseapp.com",
  projectId: "crispy-cuisine-7334c",
  storageBucket: "crispy-cuisine-7334c.firebasestorage.app",
  messagingSenderId: "18003644183",
  appId: "1:18003644183:web:4abb0800c18b00d7b83152",
  measurementId: "G-250S27R82Y"
};

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        
        // Global variables
        let lastVisible = null;
        let selectedFile = null;
        const PAGE_SIZE = 6; // Number of recipes per load

        $(document).ready(function() {
            // Load first recipes
            loadRecipes();
            
            // Event handlers
            $('#recipeForm').submit(handleFormSubmit);
            $('#recipeImageFile').on('change', handleImageUpload);
            $('#recipeTitle, #recipeCategory').on('input change', updatePreview);
            $('#loadMoreBtn').on('click', loadMoreRecipes);
        });

        // Handle image upload
        function handleImageUpload(e) {
            const file = e.target.files[0];
            if (!file) {
                $('#fileName').text('Файл не обрано');
                selectedFile = null;
                return;
            }

            // File type validation
            if (!file.type.match('image/jpeg') && !file.type.match('image/png')) {
                alert('Будь ласка, виберіть файл у форматі JPG або PNG.');
                resetFileInput();
                return;
            }

            // File size validation
            if (file.size > 1048576) {
                alert('Файл занадто великий. Максимальний розмір 1MB.');
                resetFileInput();
                return;
            }

            $('#fileName').text(file.name);
            
            const reader = new FileReader();
            reader.onload = function(event) {
                selectedFile = event.target.result;
                updatePreview();
            };
            reader.readAsDataURL(file);
        }

        function resetFileInput() {
            $('#recipeImageFile').val('');
            $('#fileName').text('Файл не обрано');
        }

        function updatePreview() {
            const title = $('#recipeTitle').val() || 'Назва рецепту';
            const category = $('#recipeCategory').val() || 'не вибрано';
            
            if (selectedFile) {
                $('#previewImage').attr('src', selectedFile);
            }
            
            $('#previewTitle').text(title);
            $('#previewCategory').text('Категорія: ' + category);
            $('#recipePreview').show();
        }

        // Upload image to Cloudinary
        async function uploadImage(file) {
            try {
                const cloudName = "dhfkb6xv2"; // Your Cloudinary cloud name
                const uploadPreset = "unsigned_preset"; // Your upload preset

                const formData = new FormData();
                formData.append("file", file);
                formData.append("upload_preset", uploadPreset);
                formData.append("folder", "recipe_images"); // Optional folder

                const response = await fetch(`https://api.cloudinary.com/v1_1/${cloudName}/image/upload`, {
                    method: "POST",
                    body: formData
                });

                // Check for HTTP errors
                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.error.message || "Помилка Cloudinary");
                }

                const data = await response.json();
                
                if (data.secure_url) {
                    // Add optimization parameters to URL
                    return data.secure_url.replace('/upload/', '/upload/q_auto,f_auto/');
                } else {
                    throw new Error("Не вдалося отримати URL зображення");
                }
            } catch (error) {
                console.error("Помилка завантаження зображення:", error);
                throw new Error("Не вдалося завантажити зображення на Cloudinary");
            }
        }

        // Handle form submission
        async function handleFormSubmit(e) {
            e.preventDefault();
            
            // Show spinner
            $('#submitSpinner').show();
            $('#recipeForm button').prop('disabled', true);
            
            try {
                const fileInput = document.getElementById('recipeImageFile');
                const file = fileInput.files[0];
                
                let imageUrl = 'images/default-recipe.jpg';
                
                // Upload image if available
                if (file) {
                    console.log("Starting image upload...");
                    imageUrl = await uploadImage(file);
                    console.log("Image uploaded:", imageUrl);
                }
                
                // Create recipe object
                const recipe = {
                    title: $('#recipeTitle').val(),
                    category: $('#recipeCategory').val(),
                    image: imageUrl,
                    ingredients: $('#recipeIngredients').val(),
                    instructions: $('#recipeInstructions').val(),
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                };
                
                console.log("Saving recipe:", recipe);
                
                // Save to Firestore
                await db.collection("recipes").add(recipe);
                
                // Reset form
                $('#recipeForm')[0].reset();
                $('#recipePreview').hide();
                resetFileInput();
                selectedFile = null;
                
                // Reload recipes
                await loadRecipes();
                
                alert('Рецепт успішно додано!');
                
                // Scroll to new recipes section
                $('html, body').animate({
                    scrollTop: $('#user-recipes').offset().top - 100
                }, 800);
            } catch (error) {
                console.error("Помилка збереження рецепту:", error);
                alert('Сталася помилка: ' + error.message);
            } finally {
                // Hide spinner and activate button
                $('#submitSpinner').hide();
                $('#recipeForm button').prop('disabled', false);
            }
        }

        // Load recipes
        async function loadRecipes() {
            try {
                // Show loading indicator
                $('#loadingRecipes').show();
                $('#recipesContainer').empty();
                $('#noRecipesMessage').addClass('d-none');
                $('#loadMoreBtn').addClass('d-none');
                
                // Query Firestore
                const query = db.collection("recipes")
                    .orderBy("createdAt", "desc")
                    .limit(PAGE_SIZE);
                
                const snapshot = await query.get();
                
                // Hide loading indicator
                $('#loadingRecipes').hide();
                
                if (snapshot.empty) {
                    $('#noRecipesMessage').removeClass('d-none');
                    return;
                }
                
                // Save last document for pagination
                lastVisible = snapshot.docs[snapshot.docs.length - 1];
                
                // Display recipes
                displayRecipes(snapshot);
                
                // Show "Load more" button if there are more recipes
                if (snapshot.size === PAGE_SIZE) {
                    $('#loadMoreBtn').removeClass('d-none');
                }
            } catch (error) {
                console.error("Помилка завантаження рецептів:", error);
                $('#loadingRecipes').html('<p class="text-danger">Помилка завантаження рецептів. Спробуйте оновити сторінку.</p>');
            }
        }

        // Load more recipes
        async function loadMoreRecipes() {
            try {
                $('#loadMoreBtn').prop('disabled', true).html('<span class="spinner-border spinner-border-sm me-2"></span>Завантаження...');
                
                const query = db.collection("recipes")
                    .orderBy("createdAt", "desc")
                    .startAfter(lastVisible)
                    .limit(PAGE_SIZE);
                
                const snapshot = await query.get();
                
                if (snapshot.empty) {
                    $('#loadMoreBtn').hide();
                    return;
                }
                
                // Update last document
                lastVisible = snapshot.docs[snapshot.docs.length - 1];
                
                // Add new recipes
                displayRecipes(snapshot);
                
                // Hide button if no more recipes
                if (snapshot.size < PAGE_SIZE) {
                    $('#loadMoreBtn').hide();
                } else {
                    $('#loadMoreBtn').prop('disabled', false).text('Показати ще');
                }
            } catch (error) {
                console.error("Помилка завантаження рецептів:", error);
                $('#loadMoreBtn').prop('disabled', false).text('Показати ще');
                alert('Помилка завантаження додаткових рецептів');
            }
        }

        // Display recipes on page
        function displayRecipes(snapshot) {
            const container = $('#recipesContainer');
            
            snapshot.forEach(doc => {
                const recipe = doc.data();
                const recipeId = doc.id;
                
                // Format date
                const date = recipe.createdAt ? 
                    new Date(recipe.createdAt.toDate()).toLocaleDateString('uk-UA', {
                        day: 'numeric',
                        month: 'long',
                        year: 'numeric'
                    }) : 'Дата не вказана';
                
                const recipeHtml = `
                <div class="col-lg-4 col-md-6 col-12 mb-4">
                    <div class="menu-thumb recipe-card">
                        <div class="menu-image-wrap position-relative">
                            <a href="javascript:void(0);" onclick="showRecipeDetails('${recipeId}')">
                                <img 
                                    src="${recipe.image}" 
                                    class="img-fluid menu-image" 
                                    alt="${recipe.title}" 
                                    loading="lazy"
                                >
                                <span class="user-recipe-tag bg-success">Користувацький</span>
                            </a>
                        </div>
                        <div class="menu-info d-flex flex-wrap align-items-center">
                            <h4 class="mb-0">${recipe.title}</h4>
                            <span class="text-muted small ms-2">${date}</span>
                        </div>
                    </div>
                </div>`;
                
                container.append(recipeHtml);
            });
        }

        // Show recipe details
        window.showRecipeDetails = async function(recipeId) {
            try {
                const doc = await db.collection("recipes").doc(recipeId).get();
                
                if (!doc.exists) {
                    alert('Рецепт не знайдено');
                    return;
                }
                
                const recipe = doc.data();
                
                // Format date
                const date = recipe.createdAt ? 
                    new Date(recipe.createdAt.toDate()).toLocaleDateString('uk-UA', {
                        day: 'numeric',
                        month: 'long',
                        year: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit'
                    }) : 'Дата не вказана';
                
                // Create HTML for modal
                const modalHtml = `
                <div class="modal fade recipe-modal" id="recipeDetailModal" tabindex="-1">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">${recipe.title}</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <div class="row">
                                    <div class="col-md-5 mb-3 mb-md-0">
                                        <img 
                                            src="${recipe.image}" 
                                            class="img-fluid rounded mb-3" 
                                            alt="${recipe.title}"
                                        >
                                        <div class="recipe-meta">
                                            <p><strong>Категорія:</strong> ${recipe.category || 'Не вказана'}</p>
                                            <p><strong>Додано:</strong> ${date}</p>
                                        </div>
                                    </div>
                                    <div class="col-md-7">
                                        <div class="mb-4">
                                            <h5>Інгредієнти:</h5>
                                            <div class="recipe-ingredients">${formatText(recipe.ingredients)}</div>
                                        </div>
                                        <div>
                                            <h5>Інструкція:</h5>
                                            <div class="recipe-instructions">${formatText(recipe.instructions)}</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Закрити</button>
                            </div>
                        </div>
                    </div>
                </div>`;
                
                // Add modal to DOM
                $('body').append(modalHtml);
                
                // Show modal
                const modal = new bootstrap.Modal(document.getElementById('recipeDetailModal'));
                modal.show();
                
                // Remove modal after closing
                $('#recipeDetailModal').on('hidden.bs.modal', function() {
                    $(this).remove();
                });
            } catch (error) {
                console.error("Помилка завантаження рецепту:", error);
                alert('Не вдалося завантажити рецепт');
            }
        }

        // Format text (replace line breaks)
        function formatText(text) {
            return text.replace(/\n/g, '<br>');
        }
    </script>
</body>
</html>